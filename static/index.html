<!DOCTYPE html>

<html>
<head>
<meta charset='utf-8'>

<meta name='viewport' content='width=device-width, initial-scale=1.0'>

<title>Movies</title>
</head>

<link href='https://cdn.jsdelivr.net/npm/daisyui@4.6.0/dist/full.min.css' rel='stylesheet' type='text/css'>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/htmx.org@latest" crossorigin="anonymous"></script>

<body>
<div>
<div class='bg-gray-200 h-screen flex items-center justify-center'>
<div class='bg-white p-8 rounded-md shadow-md'>
<div class='flex justify-between items-center mb-4'>
<h1 class='text-2xl font-bold'>Best Movies</h1>

<button onclick='add_model.showModal()' id='addDataBtn' class='btn btn-success btn-sm rounded-md'>Add</button>
</div>

<div id='root'>
<div hx-get='http://127.0.0.1:8080/movies' hx-swap='innerHTML' hx-target='#movieTable' hx-trigger='load' id='movieTable'></div>

<dialog id='add_model' class='modal'>
<div class='modal-box'>
<h3 class='font-bold text-lg'>Add Movie!</h3>

<div id='AddDialog' class='mt-4'>
<input name='title' type='text' placeholder='Title' class='input input-bordered w-full max-w-xs'>

<input name='director' type='text' placeholder='Director' class='input input-bordered w-full max-w-xs mt-4'>
</div>

<div class='modal-action'>
<button hx-post='http://127.0.0.1:8080/movie' hx-include='[name=&#39;title&#39;],[name=&#39;director&#39;],[name=&#39;movieId&#39;]' hx-swap='innerHTML' hx-target='#root' class='btn btn-success'>Add</button>

<form method='dialog'>
<button class='btn'>Close</button>
</form>
</div>
</div>
</dialog>

<dialog id='update_model' class='modal'>
<div class='modal-box'>
<h3 class='font-bold text-lg'>Update Movie!</h3>

<div id='UpdateDialog' class='mt-4'>
<input name='update_title' type='text' placeholder='Title' class='input input-bordered w-full max-w-xs'>

<input name='update_director' type='text' placeholder='Director' class='input input-bordered w-full max-w-xs mt-4'>
</div>

<div class='modal-action'>
<button hx-put='http://127.0.0.1:8080/movie' hx-include='[name=&#39;update_title&#39;],[name=&#39;update_director&#39;],[name=&#39;movieId&#39;]' hx-swap='innerHTML' hx-target='#root' class='btn btn-success'>Update</button>

<form method='dialog'>
<button class='btn'>Close</button>
</form>
</div>
</div>
</dialog>
</div>
</div>
</div>
</div>
</body>
</html>
